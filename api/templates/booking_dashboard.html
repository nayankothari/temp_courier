{% extends 'base.html' %}{% block title %}Booking Dashboard {% endblock title %}{% load static %}{% block content %}
<style>
    .custom-btn-group {
        display: flex;
        gap: 10px;
    }
    
    .table-responsive-hori {
        overflow-x: auto;
    }
    
    .table-responsive-hori table {
        width: auto;
        min-width: 100%;
    }
    
    .table-responsive-hori table th,
    .table-responsive-hori table td {
        white-space: nowrap;
    }
</style>


<div class="container back_color">
    <div class="row">
        {% for message in messages %} {% if request.session.success %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% else %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %} {% endfor %}
        <div class="col-md-12 mb-5">
            <div class="card mt-2">
                <div class="card-header">
                    Booking Dashboard
                </div>
                <div class="card-body">
                    <div class="row justify-content-end text-end">
                        <div class="col-md-5">
                            <!-- <button class="btn btn-success mb-2">Cash Booking</button> -->
                            <a href="{% url 'cash_booking' %}" class="text-decoration-none btn btn-success mb-2"><b>Cash Booking</b></a>
                            <!-- <button class="btn btn-primary mb-2">Party Booking</button> -->
                            <a href="{% url 'bookings' %}" class="text-decoration-none btn btn-primary mb-2"><b>Fast Booking</b></a>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="scrollme table-responsive table-responsive-hori">
                            <table class="table table-striped" id="table-1">
                                <thead>
                                    <tr>
                                        <th>Action</th>
                                        <th>Doc No.</th>
                                        <th>Date</th>
                                        <th>To Center</th>
                                        <th>Product</th>
                                        <th>Sender name</th>
                                        <th>Receiver name</th>
                                        <th>Weight</th>
                                        <th>Frieght</th>
                                        <th>Total Amount</th>
                                        <th>Ref courier</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for booking in todays_booking %}
                                    <tr>
                                        <td>
                                            <a href="{% url 'edit_cash_booking' booking.id %}" class="text-decoration-none border-0 bg-transparent text-primary editButton"><i class="bi bi-pencil"></i></a>
                                            <!-- <button type='button' id='delete_button' class='border-0 bg-transparent text-primary deleteButton' data-sid="{{ drs.id }}" title="Delete DRS" data-toggle="modal" data-target="#deleteModal"><i class="bi bi-trash3"></i></button> -->
                                            <button type='button' id='print_button' class='border-0 bg-transparent text-primary printButton' data-sid="{{ booking.id }}" title="Print DRS"><i class="bi bi-printer"></i></button>
                                        </td>
                                        <td>{{ booking.c_note_number }}</td>
                                        <td>{{ booking.doc_date|date:"d-b-Y" }} </td>
                                        <td>{{ booking.to_destination }}</td>
                                        <td>{{ booking.booking_type }}</td>
                                        <td>{{ booking.sender_name }}</td>
                                        <td>{{ booking.receiver_name }}</td>
                                        <td>{{ booking.weight }}</td>
                                        <td>{{ booking.freight_charge }}</td>
                                        <td>{{ booking.amount }}</td>
                                        <td>{{ booking.ref_courier_name }}</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>
            </div>
            <!-- This section contain today's generated DRS details -->
            {% csrf_token %}
            <div class="row mt-3 justify-content-lg-center">
                <h5 class="text-center alert alert-light text-black">Filter in booked shipments</h5>
                <div class="col-md-3">
                    <label for="search_drs_num"><b>C Note Number</b></label>
                    <input type="text" name="search_drs_num" id="search_drs_num" class="form-control">
                </div>

                <div class="col-md-3">
                    <label for="search_date"><b>Date</b></label>
                    <input type="date" name="search_date" id="search_date" class="form-control">
                </div>
                <div class="col-md-2 mb-5">
                    <input type="button" id="search_by_date_btn" value="Search" class="mt-4 btn btn-success">
                </div>

            </div>
        </div>
    </div>

</div>

{% endblock content %}